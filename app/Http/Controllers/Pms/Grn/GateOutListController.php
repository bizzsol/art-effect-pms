<?php
bolt_decrypt( __FILE__ , 'MfgGl3'); return 0;
##!!!##CgpuYW1lc3BhY2UgQXBwXEh0dHBcQ29udHJvbGxlcnNcUG1zXEdybjsKCnVzZSBBcHBcSHR0cFxDb250cm9sbGVyc1xDb250cm9sbGVyOwp1c2UgQXBwXE1vZGVsc1xQbXNNb2RlbHNcSW52ZW50b3J5TW9kZWxzXEludmVudG9yeUFjdGlvbkNvbnRyb2w7CnVzZSBBcHBcTW9kZWxzXFBtc01vZGVsc1xQcm9kdWN0Owp1c2UgQXBwXE1vZGVsc1xQbXNNb2RlbHNcV2FyZWhvdXNlczsKdXNlIElsbHVtaW5hdGVcSHR0cFxSZXF1ZXN0Owp1c2UgQXBwXE1vZGVsc1xQbXNNb2RlbHNcUHVyY2hhc2VcUHVyY2hhc2VPcmRlcjsKdXNlIEFwcFxNb2RlbHNcUG1zTW9kZWxzXFB1cmNoYXNlXFB1cmNoYXNlT3JkZXJJdGVtOwp1c2UgQXBwXE1vZGVsc1xQbXNNb2RlbHNcR3JuXEdvb2RzUmVjZWl2ZWROb3RlOwp1c2UgQXBwXE1vZGVsc1xQbXNNb2RlbHNcR3JuXEdvb2RzUmVjZWl2ZWRJdGVtOwp1c2UgQXBwXE1vZGVsc1xQbXNNb2RlbHNcR3JuXEdvb2RzUmVjZWl2ZWRJdGVtU3RvY2tJbjsKdXNlIEFwcFxNb2RlbHNcUG1zTW9kZWxzXFB1cmNoYXNlUmV0dXJuOwp1c2UgQXBwXE1vZGVsc1xQbXNNb2RlbHNcUHVyY2hhc2VSZXR1cm5HYXRlT3V0Owp1c2UgSWxsdW1pbmF0ZVxTdXBwb3J0XEZhY2FkZXNcTWFpbDsKdXNlIERCLCBBdXRoLCBEYXRhVGFibGVzOwoKY2xhc3MgR2F0ZU91dExpc3RDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlcgp7CiAgICBwdWJsaWMgZnVuY3Rpb24gaGVhZGVyQ29sdW1ucygkdmFsdWUgPSAnJykKICAgIHsKICAgICAgICByZXR1cm4gYXJyYXkoCiAgICAgICAgICAgIFsnU0wnLCAnU0wnLCAnJywgJ3dpZHRoOjEwJSAhaW1wb3J0YW50J10sCiAgICAgICAgICAgIFsnYmF0Y2gnLCAnYmF0Y2gnLCAndGV4dC1sZWZ0J10sCiAgICAgICAgICAgIFsnZGF0ZScsICdkYXRlJywgJ3RleHQtbGVmdCddLAogICAgICAgICAgICBbJ2l0ZW1zJywgJ2l0ZW1zJywgJ3RleHQtbGVmdCddLAogICAgICAgICAgICBbJ3RvdGFsX3F0eScsICd0b3RhbF9xdHknLCAndGV4dC1jZW50ZXInXSwKICAgICAgICAgICAgWydvcHRpb25zJywgJ29wdGlvbnMnLCAndGV4dC1jZW50ZXInXSwKICAgICAgICApOwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBpbmRleCgpCiAgICB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgJGZyb21fZGF0ZSA9IHJlcXVlc3QoKS0+aGFzKCdmcm9tX2RhdGUnKSAmJiBzdHJ0b3RpbWUocmVxdWVzdCgpLT5nZXQoJ2Zyb21fZGF0ZScpKSA+IDAgPyByZXF1ZXN0KCktPmdldCgnZnJvbV9kYXRlJykgOiAnJzsKICAgICAgICAgICAgJHRvX2RhdGUgPSByZXF1ZXN0KCktPmhhcygndG9fZGF0ZScpICYmIHN0cnRvdGltZShyZXF1ZXN0KCktPmdldCgndG9fZGF0ZScpKSA+IDAgPyByZXF1ZXN0KCktPmdldCgndG9fZGF0ZScpIDogJyc7CgogICAgICAgICAgICAkb3B0aW9ucyA9IFsKICAgICAgICAgICAgICAgICdnYXRlLW91dC1saXN0JyA9PiBhdXRoKCktPnVzZXIoKS0+aGFzUGVybWlzc2lvblRvKCdnYXRlLW91dC1saXN0JykKICAgICAgICAgICAgXTsKCiAgICAgICAgICAgIGlmIChyZXF1ZXN0KCktPmFqYXgoKSkgewogICAgICAgICAgICAgICAgJGdhdGVPdXRzID0gUHVyY2hhc2VSZXR1cm5HYXRlT3V0Ojpncm91cEJ5KCdiYXRjaCcpCiAgICAgICAgICAgICAgICAgICAgLT53aXRoKFsKICAgICAgICAgICAgICAgICAgICAgICAgJ2dhdGVPdXRzLnB1cmNoYXNlUmV0dXJuLnJlbEdvb2RzUmVjZWl2ZWRJdGVtcy5yZWxQcm9kdWN0JwogICAgICAgICAgICAgICAgICAgIF0pCiAgICAgICAgICAgICAgICAgICAgLT53aGVuKCFlbXB0eSgkZnJvbV9kYXRlKSwgZnVuY3Rpb24gKCRxdWVyeSkgdXNlICgkZnJvbV9kYXRlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcXVlcnktPndoZXJlKCdkYXRlJywgJz49JywgJGZyb21fZGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAtPndoZW4oIWVtcHR5KCR0b19kYXRlKSwgZnVuY3Rpb24gKCRxdWVyeSkgdXNlICgkdG9fZGF0ZSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHF1ZXJ5LT53aGVyZSgnZGF0ZScsICc8PScsICR0b19kYXRlKTsKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC0+d2hlbighZGF0YXRhYmxlT3JkZXJpbmcoKSwgZnVuY3Rpb24gKCRxdWVyeSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHF1ZXJ5LT5vcmRlcmJ5KCdiYXRjaCcsICdkZXNjJyk7CiAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgcmV0dXJuIERhdGF0YWJsZXM6Om9mKCRnYXRlT3V0cykKICAgICAgICAgICAgICAgICAgICAtPmFkZEluZGV4Q29sdW1uKCkKICAgICAgICAgICAgICAgICAgICAtPmFkZENvbHVtbignaXRlbXMnLCBmdW5jdGlvbiAoJGdhdGVPdXQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbGxlY3QoJGdhdGVPdXQtPmdhdGVPdXRzKS0+cGx1Y2soJ3B1cmNoYXNlUmV0dXJuLnJlbEdvb2RzUmVjZWl2ZWRJdGVtcy5yZWxQcm9kdWN0Lm5hbWUnKS0+aW1wbG9kZSgnLCAnKTsKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC0+ZmlsdGVyQ29sdW1uKCdpdGVtcycsIGZ1bmN0aW9uICgkcXVlcnksICRrZXl3b3JkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcXVlcnktPndoZXJlSGFzKCdwdXJjaGFzZVJldHVybi5yZWxHb29kc1JlY2VpdmVkSXRlbXMucmVsUHJvZHVjdCcsIGZ1bmN0aW9uICgkcXVlcnkpIHVzZSAoJGtleXdvcmQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRxdWVyeS0+d2hlcmUoJ25hbWUnLCAnTElLRScsICclJyAuICRrZXl3b3JkIC4gJyUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAtPmFkZENvbHVtbigndG90YWxfcXR5JywgZnVuY3Rpb24gKCRnYXRlT3V0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkZ2F0ZU91dC0+Z2F0ZU91dHMtPnN1bSgncXR5Jyk7CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAtPmFkZENvbHVtbignb3B0aW9ucycsIGZ1bmN0aW9uICgkZ2F0ZU91dCkgdXNlICgkb3B0aW9ucykgewogICAgICAgICAgICAgICAgICAgICAgICAkYWN0aW9ucyA9ICcnOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoJGdhdGVPdXQtPmdldF9vdXRfZmlsZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGFjdGlvbnMgLj0gJzxhIGhyZWY9IicgLiB1cmwoJGdhdGVPdXQtPmdldF9vdXRfZmlsZSkgLiAnIiB0YXJnZXQ9Il9ibGFuayIgY2xhc3M9ImJ0biBidG4taW5mbyBidG4teHMgbXItMSI+PGkgY2xhc3M9ImxhIGxhLWZpbGUtYXJjaGl2ZSI+PC9pPiZuYnNwO0dldCBPdXIgRmlsZTwvYT4nOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoJG9wdGlvbnNbJ2dhdGUtb3V0LWxpc3QnXSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGFjdGlvbnMgLj0gJzxhIGhyZWY9IicgLiB1cmwoJ3Btcy9ncm4vZ2F0ZS1vdXQtbGlzdC8nIC4gJGdhdGVPdXQtPmJhdGNoKSAuICciIHRhcmdldD0iX2JsYW5rIiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IGJ0bi14cyI+PGkgY2xhc3M9ImxhIGxhLXByaW50Ij48L2k+Jm5ic3A7R2F0ZSBvdXQgU2xpcDwvYT4nOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJGFjdGlvbnM7CgogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgLT5yYXdDb2x1bW5zKFsnb3B0aW9ucyddKQogICAgICAgICAgICAgICAgICAgIC0+dG9Kc29uKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiB2aWV3KCdwbXMuYmFja2VuZC5wYWdlcy5ncm4uZ2F0ZS1vdXQtbGlzdC5pbmRleCcsIFsKICAgICAgICAgICAgICAgICd0aXRsZScgPT4gIkdhdGUgb3V0IExpc3QiLAogICAgICAgICAgICAgICAgJ2Zyb21fZGF0ZScgPT4gJGZyb21fZGF0ZSwKICAgICAgICAgICAgICAgICd0b19kYXRlJyA9PiAkdG9fZGF0ZSwKICAgICAgICAgICAgICAgICdoZWFkZXJDb2x1bW5zJyA9PiAkdGhpcy0+aGVhZGVyQ29sdW1ucygpCiAgICAgICAgICAgIF0pOwogICAgICAgIH0gY2F0Y2ggKFxUaHJvd2FibGUgJHRoKSB7CiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+YmFja1dpdGhFcnJvcigkdGgtPmdldE1lc3NhZ2UoKSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBzaG93KCRiYXRjaCkKICAgIHsKICAgICAgICB0cnkgewogICAgICAgICAgICByZXR1cm4gdmlld01QREYoJ3Btcy5iYWNrZW5kLnBhZ2VzLmdybi5nYXRlLW91dC1saXN0LnNsaXAnLCBbCiAgICAgICAgICAgICAgICAndGl0bGUnID0+ICdHYXRlIG91dCBTbGlwJywKICAgICAgICAgICAgICAgICdwdXJjaGFzZU9yZGVyJyA9PiBQdXJjaGFzZU9yZGVyOjp3aGVyZUhhcygncmVsR29vZFJlY2VpdmVOb3RlLnJlbEdvb2RzUmVjZWl2ZWRJdGVtcy5yZWxQdXJjaGFzZU9yZGVyUmV0dXJucy5nYXRlT3V0cycsIGZ1bmN0aW9uICgkcXVlcnkpIHVzZSAoJGJhdGNoKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxdWVyeS0+d2hlcmUoJ2JhdGNoJywgJGJhdGNoKTsKICAgICAgICAgICAgICAgIH0pLT5maXJzdCgpLAogICAgICAgICAgICAgICAgJ2dhdGVPdXRzJyA9PiBQdXJjaGFzZVJldHVybkdhdGVPdXQ6OndoZXJlKCdiYXRjaCcsICRiYXRjaCktPmdldCgpLAogICAgICAgICAgICAgICAgJ2JhdGNoJyA9PiAkYmF0Y2gKICAgICAgICAgICAgXSwgJ0dhdGUgb3V0IFNsaXAnLCAnR2F0ZSBvdXQgU2xpcCcsICdhNicpOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewogICAgICAgICAgICBEQjo6cm9sbGJhY2soKTsKICAgICAgICAgICAgcmV0dXJuICR0aGlzLT5iYWNrV2l0aEVycm9yKCRlLT5nZXRNZXNzYWdlKCkpOwogICAgICAgIH0KICAgIH0KfQo=