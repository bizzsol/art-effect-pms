<?php
bolt_decrypt( __FILE__ , 'UtQmA8'); return 0;
##!!!##CgpuYW1lc3BhY2UgQXBwXEh0dHBcQ29udHJvbGxlcnM7Cgp1c2UgSWxsdW1pbmF0ZVxIdHRwXFJlcXVlc3Q7CnVzZSBJbGx1bWluYXRlXFN1cHBvcnRcRmFjYWRlc1xBcnRpc2FuOwp1c2UgREI7CnVzZSBNYWlsOwoKY2xhc3MgSG9tZUNvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyCnsKICAgIHB1YmxpYyBmdW5jdGlvbiBpbmRleCgpewogICAgICAgIGlmKHJlcXVlc3QoKS0+aGFzKCdzZW5kLXRlc3QtbWFpbCcpKXsKICAgICAgICAgICAgcmV0dXJuIHNlbmRFbWFpbCgnbWFpbHMuaW5kZXgnLCBbCiAgICAgICAgICAgICAgICAndGV4dCcgPT4gcmVxdWVzdCgpLT5nZXQoJ2JvZHknKQogICAgICAgICAgICBdLCByZXF1ZXN0KCktPmdldCgnc3ViamVjdCcpLCBleHBsb2RlKCcsJywgcmVxdWVzdCgpLT5nZXQoJ2VtYWlscycpKSk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmKGF1dGgoKS0+dXNlcigpLT5oYXNSb2xlKCdHYXRlIFBlcm1pc3Npb24nKSl7CiAgICAgICAgICAgIHJldHVybiByZWRpcmVjdCgncG1zL2dybi9wby1saXN0Jyk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdmlldygncG1zLmJhY2tlbmQucGFnZXMuZGFzaGJvYXJkJywgWwogICAgICAgICAgICAndGl0bGUnID0+ICdQTVMgRGFzaGJvYXJkJywKICAgICAgICBdKTsKICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gbG9naW4oKXsKICAgICAgICByZXR1cm4gdmlldygnbG9naW4nKTsKICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gcmVkaXJlY3RUb01vZHVsZXMoKQogICAgewogICAgICAgIGlmKCFpc3NldChnZXRNb2R1bGVzKClbcmVxdWVzdCgpLT5nZXQoJ21vZHVsZScpXSkpewogICAgICAgICAgICByZXR1cm4gcmVkaXJlY3QoJy8nKTsKICAgICAgICB9CgogICAgICAgICRtb2R1bGUgPSBnZXRNb2R1bGVzKClbcmVxdWVzdCgpLT5nZXQoJ21vZHVsZScpXTsKICAgICAgICBpZighYXV0aCgpLT51c2VyKCktPmhhc1Blcm1pc3Npb25UbygnbW9kdWxlLScuJG1vZHVsZS0+c2x1ZykpewogICAgICAgICAgICByZXR1cm4gcmVkaXJlY3QoJy8nKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgJHJlc3BvbnNlID0gY2FsbE1vZHVsZUFwaSgkbW9kdWxlLT5zbHVnLCAnbG9naW4/Zm9yY2UnLCBbXSlbJ2RhdGEnXTsKICAgICAgICBpZihpc3NldCgkcmVzcG9uc2UtPmxvZ2luKSAmJiAkcmVzcG9uc2UtPmxvZ2luKXsKICAgICAgICAgICAgJHRva2VuID0gYXV0aCgpLT51c2VyKCktPnRva2VuOwogICAgICAgICAgICBhdXRoKCktPmxvZ291dCgpOwogICAgICAgICAgICByZXR1cm4gcmVkaXJlY3QoKS0+dG8oJG1vZHVsZS0+dXJsLicvbG9naW4/dG9rZW49Jy4kdG9rZW4uJyZmb3JjZS1sb2dvdXQnKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHJlZGlyZWN0KCcvJyk7CiAgICB9Cn0K