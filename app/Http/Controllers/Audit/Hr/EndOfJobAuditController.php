<?php
bolt_decrypt( __FILE__ , 'WG5Tbw'); return 0;
##!!!##CgpuYW1lc3BhY2UgQXBwXEh0dHBcQ29udHJvbGxlcnNcQXVkaXRcSHI7Cgp1c2UgQXBwXEh0dHBcQ29udHJvbGxlcnNcQ29udHJvbGxlcjsKdXNlIEFwcFxNb2RlbHNcQXVkaXRcRW5kT2ZKb2JBdWRpdDsKdXNlIEFwcFxNb2RlbHNcQXVkaXRcTWF0ZXJuaXR5QXVkaXQ7CnVzZSBBcHBcUmVwb3NpdG9yeVxIclxFbXBsb3llZVJlcG9zaXRvcnk7CnVzZSBBcHBcUmVwb3NpdG9yeVxIclxGaW5hbFNldHRsZW1lbnRSZXBvc2l0b3J5Owp1c2UgQ2FyYm9uXENhcmJvbjsKdXNlIERCLCBWYWxpZGF0b3I7CnVzZSBJbGx1bWluYXRlXEh0dHBcUmVxdWVzdDsKCmNsYXNzIEVuZE9mSm9iQXVkaXRDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlcgp7CiAgICBwcm90ZWN0ZWQgJGZpbmFsU2V0dGxlbWVudDsKCiAgICBwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoRmluYWxTZXR0bGVtZW50UmVwb3NpdG9yeSAkZmluYWxTZXR0bGVtZW50KQogICAgewogICAgICAgICR0aGlzLT5maW5hbFNldHRsZW1lbnQgPSAkZmluYWxTZXR0bGVtZW50OwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBpbmRleChSZXF1ZXN0ICRyZXF1ZXN0KQogICAgewogICAgICAgIAogICAgICAgIHJldHVybiB2aWV3KCdhdWRpdC5oci5lbmQtb2Ytam9iLmluZGV4Jyk7CiAgICB9CgoKICAgIHB1YmxpYyBmdW5jdGlvbiBmZXRjaChSZXF1ZXN0ICRyZXF1ZXN0KQogICAgewogICAgICAgICRpbnB1dCA9ICRyZXF1ZXN0LT5hbGwoKTsKICAgICAgICAkZW1wbG95ZWVzID0gJHRoaXMtPmZpbmFsU2V0dGxlbWVudC0+Z2V0KCRpbnB1dCk7CiAgICAKICAgICAgICAkc3VtbWFyeSA9IChvYmplY3QpWwogICAgICAgICAgICAnc2VydmljZV9iZW5lZml0cycgPT4gcm91bmQoJGVtcGxveWVlcy0+c3VtKCdzZXJ2aWNlX2JlbmVmaXRzJykpLAogICAgICAgICAgICAnZWFybl9sZWF2ZV9hbW91bnQnID0+IHJvdW5kKCRlbXBsb3llZXMtPnN1bSgnZWFybl9sZWF2ZV9hbW91bnQnKSksCiAgICAgICAgICAgICd0b3RhbF9hbW91bnQnID0+IHJvdW5kKCRlbXBsb3llZXMtPnN1bSgndG90YWxfYW1vdW50JykpCiAgICAgICAgXTsKICAgICAgICAkdHlwZSA9ICR0aGlzLT5maW5hbFNldHRsZW1lbnQtPmJlbmVmaXRUeXBlOwoKICAgICAgICAkZ3JvdXBlZCA9ICRlbXBsb3llZXMtPmdyb3VwQnkoJ2JlbmVmaXRfb24nLHRydWUpLT5tYXAoZnVuY3Rpb24oJHEpewogICAgICAgICAgICByZXR1cm4gY291bnQoJHEpOwogICAgICAgIH0pOwoKICAgICAgICBmb3JlYWNoKCRncm91cGVkIGFzICRrID0+ICR2KXsKICAgICAgICAgICAgJHN1bW1hcnktPntzdHJ0b2xvd2VyKCR0eXBlWyRrXSl9ID0gJHY7CiAgICAgICAgfQogICAgICAgIAogICAgICAgICRhdWRpdGVkID0gJGVtcGxveWVlcy0+ZmlsdGVyKGZ1bmN0aW9uKCRxKXsKICAgICAgICAgICAgcmV0dXJuICRxLT5hdWRpdCAhPSBudWxsOwogICAgICAgIH0pLT5jb3VudCgpOwoKICAgIAoKICAgICAgICByZXR1cm4gdmlldygnYXVkaXQuaHIuZW5kLW9mLWpvYi5yZXBvcnQnLCBjb21wYWN0KCdhdWRpdGVkJywnZW1wbG95ZWVzJywnc3VtbWFyeScsJ2lucHV0JykpOwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBhY3Rpb24oUmVxdWVzdCAkcmVxdWVzdCkKICAgIHsKICAgICAgICAkdmFsaWRhdG9yPSBWYWxpZGF0b3I6Om1ha2UoJHJlcXVlc3QtPmFsbCgpLFsKICAgICAgICAgICAgJ2lkJz0+J3JlcXVpcmVkJywKICAgICAgICAgICAgJ3N0YXR1cyc9PidyZXF1aXJlZCcKCiAgICAgICAgXSk7CiAgICAgICAgaWYoJHZhbGlkYXRvci0+ZmFpbHMoKSl7CiAgICAgICAgICAgIHJldHVybiAnZmFpbGVkJzsKICAgICAgICB9CgogICAgICAgICRhdWRpdCA9IEVuZE9mSm9iQXVkaXQ6OmZpcnN0T3JOZXcoWydocl9lbmRfb2Zfam9iX2lkJyA9PiAkcmVxdWVzdC0+aWRdKTsKICAgICAgICAkYXVkaXQtPmhyX2VuZF9vZl9qb2JfaWQgPSAkcmVxdWVzdC0+aWQ7CiAgICAgICAgJGF1ZGl0LT5zdGF0dXMgPSAkcmVxdWVzdC0+c3RhdHVzOwogICAgICAgICRhdWRpdC0+Y29tbWVudCA9ICRyZXF1ZXN0LT5jb21tZW50OwogICAgICAgICRhdWRpdC0+YXVkaXRfZGF0ZSA9IGRhdGUoJ1ktbS1kJyk7CiAgICAgICAgJGF1ZGl0LT5jcmVhdGVkX2J5ID0gYXV0aCgpLT5pZCgpOwogICAgICAgICRhdWRpdC0+c2F2ZSgpOwoKICAgICAgICByZXR1cm4gJGF1ZGl0OwogICAgfQp9Cg==