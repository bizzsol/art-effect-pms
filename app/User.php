<?php
bolt_decrypt( __FILE__ , 'bQHx8U'); return 0;
##!!!##CgpuYW1lc3BhY2UgQXBwOwoKdXNlIEFwcFxNb2RlbHNcTXlQcm9qZWN0XFByb2plY3Q7CnVzZSBBcHBcTW9kZWxzXE15UHJvamVjdFxTdWJEZWxpdmVyYWJsZVVzZXI7CnVzZSBBcHBcTW9kZWxzXE15UHJvamVjdFxQcm9qZWN0VGFzazsKdXNlIElsbHVtaW5hdGVcQ29udHJhY3RzXEF1dGhcTXVzdFZlcmlmeUVtYWlsOwp1c2UgSWxsdW1pbmF0ZVxGb3VuZGF0aW9uXFRlc3RpbmdcRGF0YWJhc2VUcmFuc2FjdGlvbnM7CnVzZSBTcGF0aWVcUGVybWlzc2lvblxUcmFpdHNcSGFzUm9sZXM7CnVzZSBJbGx1bWluYXRlXEZvdW5kYXRpb25cQXV0aFxVc2VyIGFzIEF1dGhlbnRpY2F0YWJsZTsKdXNlIElsbHVtaW5hdGVcTm90aWZpY2F0aW9uc1xOb3RpZmlhYmxlOwp1c2UgSWxsdW1pbmF0ZVxEYXRhYmFzZVxFbG9xdWVudFxTb2Z0RGVsZXRlczsKdXNlIElsbHVtaW5hdGVcQ29udHJhY3RzXEF1dGhcQWNjZXNzXEdhdGU7CnVzZSBBcHBcTW9kZWxzXEVtcGxveWVlOwp1c2UgQXBwXE1vZGVsc1xVc2VyQWN0aXZpdHk7CnVzZSBBcHBcTW9kZWxzXFVzZXJMb2c7CnVzZSBBcHBcTW9kZWxzXFBtc01vZGVsc1xBcHByb3ZhbFJhbmdlU2V0dXA7CnVzZSBBcHBcTW9kZWxzXFBtc01vZGVsc1xVc2Vyc1dhcmVob3VzZXM7CnVzZSBBcHBcTW9kZWxzXFBtc01vZGVsc1xXYXJlaG91c2VzOwp1c2UgXFNwYXRpZVxBY3Rpdml0eWxvZ1xUcmFpdHNcTG9nc0FjdGl2aXR5Owp1c2UgREI7CnVzZSBMYXJhdmVsXFNhbmN0dW1cSGFzQXBpVG9rZW5zOwp1c2UgU3BhdGllXEFjdGl2aXR5bG9nXExvZ09wdGlvbnM7CgpjbGFzcyBVc2VyIGV4dGVuZHMgQXV0aGVudGljYXRhYmxlCnsKICAgIHVzZSBIYXNBcGlUb2tlbnMsIE5vdGlmaWFibGUsIEhhc1JvbGVzLCBTb2Z0RGVsZXRlczsKCiAgICAvKioKICAgICAqIFRoZSBhdHRyaWJ1dGVzIHRoYXQgYXJlIG1hc3MgYXNzaWduYWJsZS4KICAgICAqCiAgICAgKiBAdmFyIGFycmF5CiAgICAgKi8KICAgIHByb3RlY3RlZCAkZmlsbGFibGUgPSBbCiAgICAgICAgJ25hbWUnLCAnYXNzb2NpYXRlX2lkJywgJ2VtYWlsJywncGhvbmUnLCAncHJvZmlsZV9waG90b19wYXRoJywncGFzc3dvcmQnLCAndW5pdF9wZXJtaXNzaW9ucycsICdidXllcl9wZXJtaXNzaW9ucycsJ2J1eWVyX3RlbXBsYXRlX3Blcm1pc3Npb24nLCdtYW5hZ2VtZW50X3Jlc3RyaWN0aW9uJywgJ2xvY2F0aW9uX3Blcm1pc3Npb24nLCAnY29zdF9jZW50cmVfaWQnLCAnY3JlYXRlZF9ieScKICAgIF07CgogICAgcHJvdGVjdGVkIHN0YXRpYyAkbG9nQXR0cmlidXRlcyA9IFsnbmFtZScsICdlbWFpbCcsICdwYXNzd29yZCcsICd1bml0X3Blcm1pc3Npb25zJywgJ2J1eWVyX3Blcm1pc3Npb25zJywgJ2J1eWVyX3RlbXBsYXRlX3Blcm1pc3Npb24nLCAnbWFuYWdlbWVudF9yZXN0cmljdGlvbicsICdsb2NhdGlvbl9wZXJtaXNzaW9uJ107CgogICAgcHJvdGVjdGVkIHN0YXRpYyAkbG9nTmFtZSA9ICd1c2VyJzsKICAgIHByb3RlY3RlZCBzdGF0aWMgJGxvZ09ubHlEaXJ0eSA9IHRydWU7CgogICAgLy8gcHJvdGVjdGVkICR3aXRoID0gWydlbXBsb3llZSddOwoKICAgIC8qKgogICAgICogVGhlIGF0dHJpYnV0ZXMgdGhhdCBzaG91bGQgYmUgaGlkZGVuIGZvciBhcnJheXMuCiAgICAgKgogICAgICogQHZhciBhcnJheQogICAgICovCiAgICBwcm90ZWN0ZWQgJGhpZGRlbiA9IFsKICAgICAgICAncGFzc3dvcmQnLCAncmVtZW1iZXJfdG9rZW4nLAogICAgXTsKCiAgICAvKioKICAgICAqIFRoZSBhdHRyaWJ1dGVzIHRoYXQgc2hvdWxkIGJlIGNhc3QgdG8gbmF0aXZlIHR5cGVzLgogICAgICoKICAgICAqIEB2YXIgYXJyYXkKICAgICAqLwogICAgcHJvdGVjdGVkICRjYXN0cyA9IFsKICAgICAgICAnZW1haWxfdmVyaWZpZWRfYXQnID0+ICdkYXRldGltZScsCiAgICBdOwoKICAgIHByb3RlY3RlZCAkZGF0ZSA9IFsKICAgICAgICAnY3JlYXRlZF9hdCcsICd1cGRhdGVkX2F0JywgJ2RlbGV0ZWRfYXQnCiAgICBdOwoKICAgIHB1YmxpYyBmdW5jdGlvbiBnZXREZXBhcnRtZW50TmFtZUF0dHJpYnV0ZSgpewogICAgICAgIHJldHVybiAkdGhpcy0+ZW1wbG95ZWUoKTsKICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gZW1wbG95ZWUoKQogICAgewogICAgICAgIHJldHVybiAkdGhpcy0+YmVsb25nc1RvKEVtcGxveWVlOjpjbGFzcywgJ2Fzc29jaWF0ZV9pZCcsICdhc3NvY2lhdGVfaWQnKTsKICAgIH0KCgogICAgcHVibGljIGZ1bmN0aW9uIGxvZ2lucygpCiAgICB7CiAgICAgICAgcmV0dXJuICR0aGlzLT5oYXNNYW55KFVzZXJBY3Rpdml0eTo6Y2xhc3MsICd1c2VyX2lkJywgJ3VzZXJfaWQnKS0+b3JkZXJCeSgnaWQnLCdERVNDJyk7CiAgICB9CgogICAgcHVibGljIGZ1bmN0aW9uIGxvZ3MoKQogICAgewogICAgICAgIHJldHVybiAkdGhpcy0+aGFzTWFueShVc2VyTG9nOjpjbGFzcywgJ2xvZ19hc19pZCcsICdhc3NvY2lhdGVfaWQnKS0+b3JkZXJCeSgnaWQnLCdERVNDJyk7CiAgICB9CgogICAgcHVibGljIGZ1bmN0aW9uIGNvc3RDZW50cmUoKQogICAgewogICAgICAgIHJldHVybiAkdGhpcy0+aGFzT25lKFxBcHBcTW9kZWxzXFBtc01vZGVsc1xBY2NvdW50c1xDb3N0Q2VudHJlOjpjbGFzcywnaWQnLCAnY29zdF9jZW50cmVfaWQnKTsKICAgIH0KCgogICAgcHVibGljIGZ1bmN0aW9uIGxhc3Rsb2dpbigpCiAgICB7CiAgICAgICAgcmV0dXJuIFVzZXJBY3Rpdml0eTo6d2hlcmUoJ3VzZXJfaWQnLCR0aGlzLT5pZCktPm9yZGVyQnkoJ2lkJywnREVTQycpLT5maXJzdCgpOwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBwZXJtaXR0ZWRfYXNzb2NpYXRlKCkKICAgIHsKICAgICAgICByZXR1cm4gREI6OnRhYmxlKCdocl9hc19iYXNpY19pbmZvJyktPndoZXJlSW4oJ2FzX3VuaXRfaWQnLCAkdGhpcy0+dW5pdF9wZXJtaXNzaW9ucygpKQogICAgICAgICAgICAtPndoZXJlSW4oJ2FzX2xvY2F0aW9uJywgJHRoaXMtPmxvY2F0aW9uX3Blcm1pc3Npb25zKCkpCiAgICAgICAgICAgIC0+d2hlcmUoJ2FzX3N0YXR1cycsIDEpCiAgICAgICAgICAgIC0+cGx1Y2soJ2Fzc29jaWF0ZV9pZCcpOwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBwZXJtaXR0ZWRfYWxsKCkKICAgIHsKICAgICAgICByZXR1cm4gREI6OnRhYmxlKCdocl9hc19iYXNpY19pbmZvJyktPndoZXJlSW4oJ2FzX3VuaXRfaWQnLCAkdGhpcy0+dW5pdF9wZXJtaXNzaW9ucygpKQogICAgICAgICAgICAtPndoZXJlSW4oJ2FzX2xvY2F0aW9uJywgJHRoaXMtPmxvY2F0aW9uX3Blcm1pc3Npb25zKCkpCiAgICAgICAgICAgIC0+d2hlcmVJbignYXNfc3RhdHVzJywgIFsxLDIsMyw0LDUsNiw3LDhdKQogICAgICAgICAgICAtPnBsdWNrKCdhc3NvY2lhdGVfaWQnKTsKICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gcGVybWl0dGVkX2FzaWQoKQogICAgewogICAgICAgIHJldHVybiBEQjo6dGFibGUoJ2hyX2FzX2Jhc2ljX2luZm8nKS0+d2hlcmVJbignYXNfdW5pdF9pZCcsICR0aGlzLT51bml0X3Blcm1pc3Npb25zKCkpCiAgICAgICAgICAgIC0+d2hlcmVJbignYXNfbG9jYXRpb24nLCAkdGhpcy0+bG9jYXRpb25fcGVybWlzc2lvbnMoKSkKICAgICAgICAgICAgLT53aGVyZSgnYXNfc3RhdHVzJywgWzEsMiwzLDQsNSw2LDcsOF0pCiAgICAgICAgICAgIC0+cGx1Y2soJ2FzX2lkJyk7CiAgICB9CgogICAgcHVibGljIGZ1bmN0aW9uIHVuaXRfcGVybWlzc2lvbnMoKQogICAgewogICAgICAgICR1bml0cyA9IGV4cGxvZGUoIiwiLCAkdGhpcy0+dW5pdF9wZXJtaXNzaW9ucyk7CiAgICAgICAgcmV0dXJuICghZW1wdHkoJHVuaXRzWzBdKT8kdW5pdHM6W10pOwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBsb2NhdGlvbl9wZXJtaXNzaW9ucygpCiAgICB7CiAgICAgICAgJGxvY2F0aW9ucyA9IGV4cGxvZGUoIiwiLCAkdGhpcy0+bG9jYXRpb25fcGVybWlzc2lvbik7CiAgICAgICAgcmV0dXJuICghZW1wdHkoJGxvY2F0aW9uc1swXSk/JGxvY2F0aW9uczpbXSk7CiAgICB9CgogICAgcHVibGljIGZ1bmN0aW9uIGJ1eWVyX3Blcm1pc3Npb25zKCkKICAgIHsKICAgICAgICAkYnV5ZXJzID0gZXhwbG9kZSgiLCIsICR0aGlzLT5idXllcl9wZXJtaXNzaW9ucyk7CiAgICAgICAgaWYoYXV0aCgpLT51c2VyKCktPmhhc1JvbGUoJ1N1cGVyIEFkbWluJykpewogICAgICAgICAgICByZXR1cm4gREI6OnRhYmxlKCdtcl9idXllcicpLT5wbHVjaygnYl9pZCcpLT50b0FycmF5KCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiAoIWVtcHR5KCRidXllcnNbMF0pPyRidXllcnM6W10pOwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBtYW5hZ2VtZW50X3Blcm1pc3Npb25zKCkKICAgIHsKICAgICAgICAkbWFuYWdlbWVudHMgPSBleHBsb2RlKCIsIiwgJHRoaXMtPm1hbmFnZW1lbnRfcmVzdHJpY3Rpb24pOwogICAgICAgIHJldHVybiAoIWVtcHR5KCRtYW5hZ2VtZW50c1swXSk/JG1hbmFnZW1lbnRzOltdKTsKICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gbW9kdWxlX3Blcm1pc3Npb24oJG1vZHVsZSkKICAgIHsKICAgICAgICBpZihhdXRoKCktPnVzZXIoKS0+aGFzUm9sZSgnU3VwZXIgQWRtaW4nKSl7CiAgICAgICAgICAgICRzdGF0dXMgPSB0cnVlOwogICAgICAgICAgICByZXR1cm4gJHN0YXR1czsKICAgICAgICB9CiAgICAgICAgJHBlcm1pc3Npb25zID0gYXV0aCgpLT51c2VyKCktPmdldEFsbFBlcm1pc3Npb25zKCk7CiAgICAgICAgJG1vZHVsZXMgPSAgJHBlcm1pc3Npb25zLT5tYXAoZnVuY3Rpb24gKCRwZXJtaXNzaW9ucykgewogICAgICAgICAgICByZXR1cm4gJHBlcm1pc3Npb25zLT5tb2R1bGU7CiAgICAgICAgfSktPnRvQXJyYXkoKTsKCiAgICAgICAgcmV0dXJuIGluX2FycmF5KCRtb2R1bGUsICRtb2R1bGVzKTsKICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gY2FuYW55KCRhYmlsaXRpZXMsICRhcmd1bWVudHMgPSBbXSkgewogICAgICAgIHJldHVybiBjb2xsZWN0KCRhYmlsaXRpZXMpLT5yZWR1Y2UoZnVuY3Rpb24oJGNhbkFjY2VzcywgJGFiaWxpdHkpIHVzZSAoJGFyZ3VtZW50cykgewogICAgICAgICAgLy8gaWYgdGhpcyB1c2VyIGhhcyBhY2Nlc3MgdG8gYW55IG9mIHRoZSBwcmV2aW91c2x5IGNoZWNrZWQgYWJpbGl0aWVzLCBvciB0aGUgY3VycmVudCBhYmlsaXR5LCByZXR1cm4gdHJ1ZQogICAgICAgICAgcmV0dXJuICRjYW5BY2Nlc3MgfHwgYXBwKEdhdGU6OmNsYXNzKS0+Zm9yVXNlcigkdGhpcyktPmNoZWNrKCRhYmlsaXR5LCAkYXJndW1lbnRzKTsKICAgICAgICB9LCBmYWxzZSk7CiAgICB9CgogICAgcHVibGljIGZ1bmN0aW9uIHJlbEFwcHJvdmFsUmFuZ2UoKQogICAgewogICAgICAgIHJldHVybiAkdGhpcy0+YmVsb25nc1RvTWFueShBcHByb3ZhbFJhbmdlU2V0dXA6OmNsYXNzLCd1c2VyX2FwcHJvdmFsX3JhbmdlJywndXNlcl9pZCcsJ2FwcHJvdmFsX3JhbmdlX2lkJyk7CiAgICB9CgogICAgcHVibGljIGZ1bmN0aW9uIHJlbFVzZXJzV2FyZWhvdXNlKCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPmJlbG9uZ3NUb01hbnkoV2FyZWhvdXNlczo6Y2xhc3MsJ3VzZXJzX3dhcmVob3VzZXMnLCd1c2VyX2lkJywnd2FyZWhvdXNlX2lkJyk7CiAgICB9CgogICAgcHVibGljIGZ1bmN0aW9uIG5vdGlmaWNhdGlvbigpCiAgICB7CiAgICAgICAgcmV0dXJuICR0aGlzLT5oYXNNYW55KE1vZGVsc1xQbXNNb2RlbHNcTm90aWZpY2F0aW9uOjpjbGFzcywgJ3VzZXJfaWQnLCAnaWQnKTsKICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gc3BvbnNvcmVkUHJvamVjdHMoKQogICAgewogICAgICAgIHJldHVybiAkdGhpcy0+aGFzTWFueShQcm9qZWN0OjpjbGFzcywgJ3Nwb25zb3JfaWQnLCAnaWQnKTsKICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gc3ViRGVsaXZlcmFibGVzKCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPmhhc01hbnkoU3ViRGVsaXZlcmFibGVVc2VyOjpjbGFzcywgJ3VzZXJfaWQnLCAnaWQnKTsKICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gcHJvamVjdFRhc2soKQogICAgewogICAgICAgIHJldHVybiAkdGhpcy0+aGFzTWFueShQcm9qZWN0VGFzazo6Y2xhc3MsICd1c2VyX2lkJywgJ2lkJyk7CiAgICB9CgogICAgcHVibGljIGZ1bmN0aW9uIG1vZGVsSGFzUm9sZXMoKQogICAgewogICAgICAgIHJldHVybiAkdGhpcy0+aGFzTWFueShQTVNNb2RlbEhhc1JvbGU6OmNsYXNzLCAnbW9kZWxfaWQnLCAnaWQnKTsKICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gcHJpb3JpdGllcygpCiAgICB7CiAgICAgICAgcmV0dXJuICR0aGlzLT5oYXNNYW55KFVzZXJQcmlvcml0eTo6Y2xhc3MsICd1c2VyX2lkJywgJ2lkJyk7CiAgICB9CgogICAgcHVibGljIGZ1bmN0aW9uIGNvbXBhbmllcygpCiAgICB7CiAgICAgICAgcmV0dXJuICR0aGlzLT5oYXNNYW55KFxBcHBcTW9kZWxzXFBtc01vZGVsc1xBY2NvdW50c1xVc2VyQ29tcGFueTo6Y2xhc3MpOwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBjb3N0Q2VudHJlcygpCiAgICB7CiAgICAgICAgcmV0dXJuICR0aGlzLT5oYXNNYW55KFxBcHBcTW9kZWxzXFBtc01vZGVsc1xBY2NvdW50c1xVc2VyQ29zdENlbnRyZTo6Y2xhc3MpOwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRBY3Rpdml0eWxvZ09wdGlvbnMoKTogTG9nT3B0aW9ucwogICAgewogICAgICAgIHJldHVybiBMb2dPcHRpb25zOjpkZWZhdWx0cygpOwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBhc3NpZ25lZFJlcXVpc2l0aW9ucygpCiAgICB7CiAgICAgICAgcmV0dXJuICR0aGlzLT5oYXNNYW55KFxBcHBcTW9kZWxzXFBtc01vZGVsc1xSZXF1aXNpdGlvbjo6Y2xhc3MsICdhc3NpZ25lZF91c2VyX2lkJywgJ2lkJyk7CiAgICB9CiAgICBwdWJsaWMgZnVuY3Rpb24gYXNzaWduZWRGaW5hbmNlVXNlcnMoKQogICAgewogICAgICAgIHJldHVybiAkdGhpcy0+aGFzTWFueShcQXBwXE1vZGVsc1xQbXNNb2RlbHNcUmVxdWlzaXRpb246OmNsYXNzLCAnYXNzaWduZWRfZmluYW5jZV9pZCcsICdpZCcpOwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiByZXF1ZXN0UHJvcG9zYWxBcHByb3ZhbHMoKXsKICAgICAgICByZXR1cm4gJHRoaXMtPmhhc01hbnkoXEFwcFxNb2RlbHNcUG1zTW9kZWxzXFJmcFxSZXF1ZXN0UHJvcG9zYWxBcHByb3ZhbDo6Y2xhc3MsICd1c2VyX2lkJywgJ2lkJyk7CiAgICB9Cn0K